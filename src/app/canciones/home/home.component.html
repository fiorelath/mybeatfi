<h2>ğŸµ CatÃ¡logo de Canciones</h2>

<!-- ğŸ” Filtro por texto -->
<input
  type="text"
  placeholder="Buscar por tÃ­tulo, artista o gÃ©nero..."
  [(ngModel)]="terminoBusqueda"
  (input)="onFiltroChange()"
  style="margin-bottom: 12px; width: 100%; padding: 8px;"
/>

<!-- ğŸ¤ Filtro por Artista -->
<select [(ngModel)]="filtroArtista" (change)="onFiltroChange()" style="margin-bottom: 12px; padding: 6px;">
  <option value="">ğŸ¤ Todos los artistas</option>
  <option *ngFor="let artista of artistasUnicos" [value]="artista">{{ artista }}</option>
</select>

<!-- ğŸ§ Filtro por GÃ©nero -->
<select [(ngModel)]="filtroGenero" (change)="onFiltroChange()" style="margin-left: 8px; margin-bottom: 12px; padding: 6px;">
  <option value="">ğŸ§ Todos los gÃ©neros</option>
  <option *ngFor="let genero of generosUnicos" [value]="genero">{{ genero }}</option>
</select>

<!-- ğŸ”½ Ordenamiento -->
<select [(ngModel)]="ordenSeleccionado" (change)="onFiltroChange()" style="margin-left: 8px; margin-bottom: 12px; padding: 6px;">
  <option value="">ğŸ”½ Ordenar por...</option>
  <option value="titulo">ğŸ¶ TÃ­tulo (A-Z)</option>
  <option value="artista">ğŸ¤ Artista (A-Z)</option>
  <option value="duracion">â±ï¸ DuraciÃ³n (menor a mayor)</option>
</select>

<!-- âœ… BotÃ³n para agregar nueva canciÃ³n -->
<div *ngIf="uidActual" style="margin-bottom: 16px;">
  <a routerLink="/home/nueva">
    <button>â• Agregar Nueva CanciÃ³n</button>
  </a>
</div>

<!-- ğŸ¼ Lista de canciones filtradas -->
<div *ngIf="cancionesFiltradas.length > 0; else sinCanciones">
  <div *ngFor="let cancion of cancionesFiltradas" class="cancion-card" style="margin-bottom: 12px; border: 1px solid #ccc; padding: 8px;">

    <!-- Enlace a detalle -->
    <a [routerLink]="['/home/cancion', cancion.id]" style="text-decoration: none; color: inherit;">
      <h3>{{ cancion.titulo }} - {{ cancion.artista }}</h3>
      <img [src]="cancion.imagenUrl" alt="Imagen de {{ cancion.titulo }}" width="150" />
    </a>
  </div>
</div>

<!-- ğŸª¹ Sin resultados -->
<ng-template #sinCanciones>
  <p>No hay canciones que coincidan con tu bÃºsqueda.</p>
</ng-template>

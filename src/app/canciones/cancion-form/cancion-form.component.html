<h2>🎶 Agregar Canción</h2>

<form [formGroup]="cancionForm" (ngSubmit)="guardar()" novalidate>

  <!-- Título -->
  <label for="titulo">Título:</label>
  <input id="titulo" formControlName="titulo" />
  <div *ngIf="titulo.touched && titulo.invalid" class="error">
    <small *ngIf="titulo.errors?.['required']">El título es obligatorio.</small>
    <small *ngIf="titulo.errors?.['minlength']">Debe tener al menos 2 caracteres.</small>
    <small *ngIf="titulo.errors?.['maxlength']">No puede exceder los 50 caracteres.</small>
  </div>

  <!-- Artista -->
  <label for="artista">Artista:</label>
  <input id="artista" formControlName="artista" />
  <div *ngIf="artista.touched && artista.invalid" class="error">
    <small *ngIf="artista.errors?.['required']">El artista es obligatorio.</small>
    <small *ngIf="artista.errors?.['minlength']">Debe tener al menos 2 caracteres.</small>
    <small *ngIf="artista.errors?.['maxlength']">No puede exceder los 50 caracteres.</small>
  </div>

  <!-- Duración -->
  <label for="duracion">Duración (min):</label>
  <input id="duracion" type="number" formControlName="duracion" />
  <div *ngIf="duracion.touched && duracion.invalid" class="error">
    <small *ngIf="duracion.errors?.['required']">La duración es obligatoria.</small>
    <small *ngIf="duracion.errors?.['min']">Debe ser al menos 1 minuto.</small>
    <small *ngIf="duracion.errors?.['max']">No puede ser mayor a 30 minutos.</small>
  </div>

  <!-- Género -->
  <label for="genero">Género:</label>
  <input id="genero" formControlName="genero" />
  <div *ngIf="genero.touched && genero.invalid" class="error">
    <small *ngIf="genero.errors?.['required']">El género es obligatorio.</small>
    <small *ngIf="genero.errors?.['minlength']">Debe tener al menos 3 caracteres.</small>
    <small *ngIf="genero.errors?.['maxlength']">No puede exceder los 30 caracteres.</small>
  </div>

  <!-- Imagen URL -->
  <label for="imagenUrl">Imagen URL:</label>
  <input id="imagenUrl" formControlName="imagenUrl" />
  <div *ngIf="imagenUrl.touched && imagenUrl.invalid" class="error">
    <small *ngIf="imagenUrl.errors?.['required']">La imagen es obligatoria.</small>
    <small *ngIf="imagenUrl.errors?.['pattern']">Debe ser una URL válida (.jpg, .png, etc.).</small>
  </div>

  <button type="submit" [disabled]="cancionForm.invalid">Guardar Canción</button>
  <button type="button" (click)="cancionForm.reset()">Limpiar</button>
</form>
